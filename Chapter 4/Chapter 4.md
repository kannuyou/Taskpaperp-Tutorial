# 第四章：在更多平台上使用 TaskPaper

这一章里，我主要介绍 TaskPaper 的拓展用法。

先来看一个现象：许多人选择任务管理（以及其他应用）工具，有一个重要评判标准：必须跨平台。他们在 AppStore 里没有搜到 TaskPaper 的官方应用，就会摇摇头，转向别的产品。他们需要的是某个特定应用吗？其实不然，追求跨平台的背后，这些用户真正希望的是：

- 数据同步、体验连贯
- 和其他应用协作

虽然没有官方客户端，但是这些需求 TaskPaper 都可以满足。它开放了任务数据文件，除了同步、共享，还可以和其他应用联动，形成一套活用文本文档的「TaskPaper Workflow」。

任务管理不是 TaskPaper 的独脚戏，你也不是孤军奋战。接下来，通过大量的例子，我着重介绍如何在更多的平台使用 TaskPaper，以及用思维导图更好地规划任务、把 TaskPaper 变成提醒甚至幻灯片，与他人一起把它们搞定。同时，我也把 几个特殊的 TaskPaper 用法列入此章。

## 纯文本的可能性

TaskPaper 打破了把任务数据和应用绑死的状态，对此官方有一个豁达的解释：

> TaskPaper files are future proof. Edit them in any text editor or use one of the many TaskPaper compatible apps created by other developers.（TaskPaper 文件不会过时，你可以用别的编辑器编辑它们，或者挑个兼容的应用）

虽然许多任务管理应用都可以导出数据，但是 TaskPaper 和它们有根本的不同。它的文件一直独立于应用之外，保存在其他应用也读取的地方。

TaskPaper 这个应用，其作用只是读取文档，就像 MarkDown 的渲染引擎，你把一份纯文本文件丢进去，它按照既定的规则渲染出某种效果。我们来看一下 TaskPaper 怎样呈现一份纯文本文件：

【纯文本效果/TaskPaper 效果】

你会发现，它只是赋予了后者更直观的格式，但是没有绑架数据，**做到了应用和数据分离**，我得以在不同平台自由选择应用，这给同步、共享乃至导出带来了宽松的空间。虽说 TaskPaper 在桌面端的体验最佳，但我们还是需要把数据同步到移动端。对于大多数人，同步可分为刚需和弹性需求：

刚需：

- 随时检查任务
- 随手添加任务

弹性需求：

* 排序、删除等进一步的操作

不需要任何付费应用就可以满足基本的刚需。而对于在手机上修改 taskpaper 文件需求较大的人，也有专门的客户端可选。

TaskPaper 文档是 TaskPaper 之魂，它在移动端能做的事，比你想象得要多得多：

【移动端思维导图】

## 预览：Files

同步方式首推 iCloud，访问较为顺畅。

我一般把任务文档置于 iCloud 文件夹内，在手机主屏下拉呼出 spotlight，打个「t（文档名为 task）」就可以快速找到它。建议不要使用 .taskpaper 格式保存任务，尽量使用 .txt 。如此一来，几乎所有文本编辑器都能读取它。

最开心的是，iOS 自带的 Files 也可以预览这份文档，如果你只是想在手机上随时 check 任务，那连额外的应用都不用购买。我个人不喜欢在 iPhone 上手动管理文件，所以没有安装 Files，但是在 spotlight 里可以显示该文档，点击一下就能预览。

【Files 预览】

## 收集任务

手机往往和我们形影不离，它是一个理想的任务采集器。通过下面的几种方式，可以让我们更方便地收集任务。

### Drafts 批量添加任务

Drafts 和 TaskPaper 堪称绝配。如果你想追求极致的录入体验，借助 Drafts 是不可少的。相信你已经对它打开即写的快速输入有所耳闻，而自定义的 Action 则让 Drafts 和 TaskPaper 文件漂亮地打出一场配合赛：批量添加任务。

Drafts 在编辑界面左滑即可呼出 Action 界面，能够完成一些快捷操作。我这个 [Action](https://drafts4-actions.agiletortoise.com/a/2Hb) 是最简单的，在 Drafts 中快速输入 TaskPaper 格式的任务后，一键添加到 iCloud 中的 TaskPaper 文件。

【Drafts】

同理，你可以自己修改 Action，把路径换成自己在存放任务文件的位置。假设你使用 Editorial 或者 TaskMator 管理任务，就在点击 Action 界面右上角的加号，创建新 Action：

【Create New Action】

随后在 Action-Steps 中添加「Dropbox」，路径指定为对应的 Editorial 文件夹。下面例子展示了我的路径，读者们需填入各自的。保存好这个 Action：

【Drafts Action】

其实许多在用任务管理应用的人都知道，**打字天生是批量添加任务的好办法**。而 Drafts 几乎算是打字最爽的应用之一了。少数派就有作者不满 OmniFocus 添加任务的方式，借用了 TaskPaper 语法、Drafts Action 和 OminiFocus URL Schemes，[实现了用纯文本添加任务](https://sspai.com/post/38809)。

我认为直接用 TaskPaper 就是很好的任务管理方式。你不需要完全依赖应用的提供 URL Schemes，多数情况下只消一个文档，收集任务更加灵活。

### workflow 批量添加任务

Drafts 是一款强大的应用，但有的读者不一定用得上。如果只是需要随时添加任务，也可以通过免费的 workflow 来完成。

事先在 TaskPaper 文件最下方建立一个 Inbox 列表，用于统一存放 workflow 交给它的任务。

【Inbox】

在此【】下载这个 workflow，里面的文件路径请填写你的 taskpaper 文件所在路径。默认是 iCloud，但是 Dropbox 也支持，使用 Editorial 的用户请选择后者。。配置好后看看运行效果：

【append】

这个动作的核心是两个：

* 拆分输入内容，组合成 TaskPaper 格式
* 逐行 Append 进 taskpaper 文件里

添加缩进、短横线这些操作，workflow 都帮你做了，你只需要在输入框里输一行任务、换行、输下一个，它们就会自动按照 TaskPaper 的格式，收进 Inbox 文件夹，不出几秒，即同步到在电脑上。借助 workflow，我在手机上保持了 TaskPaper 简单的输入体验。

【路径】

### Siri 输入任务

不方便打字的时候，怎么记录任务？我在跑步、洗澡的时候 ，也常常会想到一些待执行事情，不马上把它们记下来就极易遗忘。借助语音输入，可以拓展 TaskPaper 收集任务的场景。

Siri 是一个好帮手，而 TaskPaper 也可以乘东风之便。

掏出手机告诉 Siri「提醒我五点钟查五笔输入法相关资料」，等回到电脑前打开 TaskPaper，点击 menubar-Files-Import Reminders，就可以把刚才记下的提醒事项导进来。

可能我需要批量导入，那么就按住 `⇧Shift` 键或者 `⌘Command` 键，然后一一点选所需的提醒事项。说实话，每次去其他的任务管理工具里进行点选操作，我都会怀念 TaskPaper 里大段圈选任务的爽快。选好按下 `↩Return` 回车键，任务就出现了。

【import提醒】

眼尖的你会发现，新导入的任务已经有了截止日期 `@due(2017-11-02 17:00)`，因为提醒事项包含的任务和时间，对应了 TaskPaper 里的任务和 `@due` 标签。对于那些不喜欢手动输入日期的用户，Siri 也可以让他们轻松一些。

TaskPaper&Siri 在电脑上使用起来也不错。我在工作间隔会做几分钟运动，期间可能想到了一个好点子，直接「Hey,Siri」一下，把它记录下来，不用特意跑到电脑前面。

显然，语音输入适合收集当前不能处理、需要稍后借助电脑来完成的任务。如果你出门在外，一条简单的购物提醒直接在手机上完成就可以，则没有必要导入 TaskPaper。

### workflow 语音输入任务

从 Siri 到提醒事项，再打开电脑、导入 TaskPaper，可能对于部分用户来说繁琐了一些。那么，就借助语音输入直接往 TaskPaper 里添加任务吧。我们用到的工具是 workflow，你可以在这里【】下载这个动作。

启动该 workflow 之后，说出自己一条任务，比如「明天晚上十点去抢购处理品面包」，然后按下停止录音，任务就 Append（在文档末尾添加）到 TaskPaper 文件里了。

【Tell me】

这个 workflow 大致的流程就是：

1. 语音转文字
2. 时间转换为 ISO 8601 格式
3. 结合任务和时间，并转为 TaskPaper 格式
4. Append 进 TaskPaper 文件

里面用到了比较多的文本替换，以求达到 TaskPaper 的格式。如果有你看不懂的部分，那基本就是一些正则表达式——不用在意，你不需要对这个 workflow 做修改就能使用。

语音输入的情形下，我们会采用偏向口语的表达，只需要说出时间和任务，就组成了一个完整的 TaskPaper 任务。

显然，比起长按 Home 键就能待命的 Siri，workflow 还是稍稍麻烦了一些，但是已经可以满足语音添加 TaskPaper 任务的需求，还能离线使用（Siri 需要网络连接）。

## 客户端推荐

某些情况下电脑难以施展，例如搭乘经济舱、挤地铁，此时移动设备临时成了任务管理的主阵地，一个更专业的 TaskPaper 客户端就显得有必要了。

### 一个不错的客户端：Editorial

我首推使用 Editorial，一个强大的文本编辑器，它支持 TaskPaper 语法，可通过  Dropbox 同步。Editorial 针对触摸屏做了优化，让你在虚拟键盘上舒服地添加、管理任务。以下是比较重要的几项：

1.按住任务右侧的深色滑块，拖动调整任务顺序。

【拖动任务】

2.在工具栏上左右滑动，快速移动光标。

【快速移动光标】

3.括号自动补全。用到带有值的标签时，只需输入左括号，Editorial 会补全右括号，并把光标移至中间，等待用户输入标签值。

【括号自动补全】

4.通过键盘右上角的 Snippet（片段）快速插入当前日期，或者输入「ddd」打出（在英文或大写锁定模式下）。

【snippet】

【ddd】

Snippet 的用处当然不仅是输日期，我还用它定制了几个 TaskPaper 常用标签，避免手工输入整串`@if(sun)`这样复杂的标签。建议多多使用 Editorial 自带的 Snippet，而不是系统的文本替换，虽然它们功能并无二致，但 Snippet 只在 Editorial 里奏效，不会影响其他应用的输入体验。

由于 Editorial 和 TaskPaper 都遵守一样的语法（读取 taskpaper 文档时），我在手机上做的修改，电脑上同样可以正常显示。

有必要申明的是，本章所指的同步是电脑端和移动端同步，如果你没有电脑，那 TaskPaper 的效果会大打折扣（主要是没有了快捷键和物理键盘输入的利落），我甚至不建议只有触屏设备的用户购买 TaskPaper 式工具。

### 更轻量的客户端：Taskmator

Editorial 不单单是 TaskPaper 客户端，还具备 Markdown 写作、Python 脚本等功能。有的读者不需要那么多复杂的功能，那么轻量的 Taskmator 会更合适。这是一个更纯粹的 TaskPaper 客户端，并且把桌面端功能完整继承了过来。

Taskmator 最令我满意的是其界面与交互。默认界面对纯文本做了许多优化，点击一条任务后会将其高亮显示，不会直接触发输入，方便检阅任务。右滑完成任务的动效留有惊喜，如同真的用记号笔在纸上划了一道：

【Taskmator划掉任务】

这种感觉，就像手里握着一沓活页便笺纸，轻量、流畅。但是不要被它简洁的界面「欺骗」，其底栏包含的功能足够与桌面端的 sidebar 相媲美。前往项目、检视标签、searchbar 和更多操作，Taskmator 也没有缺失。

【Taskmator功能】

不过 Taskmator 的杀手级功能，还属**提醒**。**简单的 `@alarm(提醒时间)` 标签就可以为任务设置提醒，通过系统提醒事项来发出通知**。令我开心的是，只需要输入 `@alarm` 标签，提醒就会自动设置，不必手动导进提醒事项。

【Taskmator 和 提醒事项】

由于 Taskmator 支持 Dropbox 同步文档，你可以在电脑上统一安排好时间，同步至手机后到点即有提示。如果你常常需要在手机上设提醒，可以借用**左滑手势快速插入时间，在触屏上这比打字要快一些。**

另在自定义方面，Taskmator 提供了图形界面来配置字体和颜色，上手难度进一步减小。总的来说，这是一个为触屏做足了优化的正宗 TaskPaper 客户端。

## 分享任务

你也许想把 TaskPaper 推荐给周围的人，但他们不一定愿意尝试新工具，遑论 TaskPaper 价格也不便宜。但你还是可以和他们共享任务清单，无需任何付费工具，仅需用到 iCloud 的提醒事项同步功能。

首先把 TaskPaper 任务导进系统提醒事项。用光标框选需要导入的任务，点击菜单栏-Item-Export Copy to Reminders，任务瞬间就导进去了。导入 Copy 的好处是不会删除 TaskPaper 里的任务，如果你仅仅把 TaskPaper 当作快速输入的跳板，目的就是使用提醒事项，原任务消失掉也没什么不妥。

【导入提醒】

**🔍小细节：备注**

TaskPaper 里的备注，会顺利转变为对应提醒事项的备注。不过，你会发现子任务也紧随其后，这是因为系统提醒事项不支持多层级，子任务就很不幸成了备注了。

【提醒效果】

如果你希望子任务也出现在提醒事项中，请选中这些任务，另导入一次。

【共享提醒】

随后，在 iCloud 同步中勾选提醒事项，回到提醒事项找到想共享的列表。在列表名后又一个形似 Wi-Fi 的图标，点一下会弹出一个输入框，在里面输入受邀人的邮件地址。如果对方已存在于通讯录，输入名字会自动提供邮件地址建议。

## 创建强大的提醒

我是一个不需要工具跟在屁股后面使劲儿催的人，因为多数的任务我都有一个固定时间、顺序，安排好后不需机器来提醒我。但是一些时间不确定、极易忘记的琐事，例如「晚饭后顺路买牙膏」「把商法书还给同学甲」之类，就比较适合丢进提醒中。

之前已经介绍了 Taskmator，但我要用提醒就干脆「暴力」一点，因此组合使用 TaskPaper、系统提醒事项和 Due 来创造对抗健忘症的「提醒流」。

将 TaskPaper 任务导入提醒事项已不必赘述，接下来将提醒事项同步到 Due。Due 提供两种同步方式，手动导入与自动导入，建议把需要任务的手动导进去就行了，不然你会被「骚扰」得神经衰弱。

手动导入选项在**设置-导入**中。没有设置日期的任务不可以直接导入，我特意给你做了一个负面演示。

【due 导入任务】

完工之后，我们看看 Due 的提醒效果。有了这样兢兢业业的提醒，还会忘记事情的话，一般只可能是手机没电了。

【due】

用 Due 进行提醒和传统的提醒事项不同，它不提醒则已，一旦任务逾期未处理，Due 就响个不停，让人不得不着手处理提醒；而普通的提醒只会响一次，容易错过或忽略。相信你一定有这样的经历：虽然看到了提醒，但临时处理别的事情，回头就发现自己忘了本该做的事情。

但是因为它过于殷勤，并不适合已经安排得井井有条的任务，那样反而影响了专注和心情。另外，在会议、饭局等场合，礼貌起见，尽量不要使用那么「暴力」的提醒。

在「聒噪」的 Due 面前，文静的 TaskPaper 看似不是主角，但若没有后者畅快的批量输入，整个提醒流从录入开始就会磕磕绊绊。触类旁通的，其他应用也可以借用 TaskPaper 的文本格式减轻输入负担。

由于此处不是 Due 的专场，进一步的教程推荐我派的[其他文章](https://sspai.com/post/30471)。

## 结合思维导图

思维导图和任务管理事好搭档，而 TaskPaper 让它们之间的转换变得无比轻松。

### 检视任务

TaskPaper 添加任务太轻松，一段时间后，你可能会陷入「清单狂人」的魔障，事事必列入任务列表。做好了一份事无巨细的任务列表，还来不及沾沾自喜，就发现自己面对几乎溢出屏幕的任务，根本无从下手。

如果你遇到了这种情况，首先要感到庆幸，你至少不是那种无所事事、用不着任务管理的「闲人」；接下来请想想，哪些任务才是最重要的？一头雾水的话，做一份思维导图来帮助检视任务吧。

把 TaskPaper 文件做成思维导图不需要任何特殊技巧，许多工具都支持导入 `.taskpaper` 文件或 `.txt` 文件，直接生成直观的导图。以我的经验，项目中（尤其是今日列表）任务多于二十条的时候就适合用思维导图来检视，**树状分支结构让我获得俯视视角，轻松掌握每个子项目、任务组的工作量，做调整的时候也可以顾及到全局**。我写东西曾经是「意识流」，用思维导图来组织结构之后情况有了很大好转。

【思维导图】

写这篇关于钱包整理的杂文时，我用来厘清结构的工具是 MindNode，轻量简单。在电脑上，直接把 taskpaper 文件拖到 Mindnode 应用图标上，几乎瞬间就完成了。手机上则点击左上角导入按钮，找到待转换的 TaskPaper 文件导入。

【制作思维导图】

其他的思维导图工具一般也支持导入 taskpaper 文件——因为它不过是有一定结构的纯文本，格式转换起来比较轻松。

实不相瞒，这份教程的大纲就是拿 TaskPaper 加做的。1.0 版本中我至少留了二十个小节企图介绍脚本，幸好展开成思维导图进行了分析，重新调整了整体结构。迭代至今，整份教程的谋篇布局趋于合理。

### 做成配图

Mindnode 同时也是一个全能的格式转换工具，可以把 TaskPaper 生成的思维导图二度加工、导出美观的图片，用在各个地方。多数的导图工具，可以在「导出」选项里找到相关功能。

【制作配图】

以往每逢团队头脑风暴，我需要及时整理日程规划、在早会上展示。寒夜漫漫，只求早睡，我用 TaskPaper ；而把文本可视化，我就选择 Mindnode。第二章里提到过，由于 TaskPaper 打字即添加任务，我可以在会议上当堂完成整理。而用 Mindnode 导出图片也只是几秒钟的事，且其内置主题精美简洁，放在严肃的会议上也不会出戏

至于给文章配图，Mindnode 同样好用，这份教程里的一些图片就是靠它制作。在梳理完文章结构之后，可以顺手导出图片，代替目录展示给读者。

## 其他有趣用法

### 打印出来

时至今日，智能设备已经代替了原始的纸质清单，不过纸笔仍然在发挥余热。许多美剧、美番里，你可以看到主人公拿着一张纸质的任务清单，一个一个钩过去，修剪草坪一样划掉已完成任务。

【怪诞小镇-清单狂热者迪普】

也许你也喜欢把完成任务变成「消去游戏」，又或者，你只是单纯觉得在纸上打钩颇具仪式感。那么，把 TaskPaper 打印出来使用吧。点击菜单栏-File-Print，可以把当前页面打出来。和普通的打印操作一样，你可以对纸张比例、横竖朝向做一些改动。

【打印】

所不同的是，TaskPaper 的 StyleSheet 可以直接运用在打印效果上。点击红框所示位置，选一个自己喜欢的主题。我为你准备了一套美式清单的 TaskPaper 主题【】，简洁明了，不妨试试。

【打印主题】

使用纸笔和追求效率并不矛盾。我们批评的是纸笔的重复劳动，而打钩这个简单的动作，在纸上或智能设备上进行并没有巨大的差异。何况一些情况下，纸质清单更有优势：比如，你身处一个不宜使用智能设备的严肃会议，或者参加一次户外定向运动，此时手机操作不便。纸笔纵使原始，此时倒合时宜。

只要有需要，你就可以用 TaskPaper 快速打印清晰漂亮的任务清单。相比完全手写的单子，用 TaskPaper 来快速创建显然更加轻松，而且它的体验也近似纸笔。

### 书签管理

写博客的时候，我需要插入大量的链接；为便于日后再次取用，需要把链接保存在一个地方、统一管理。我的理想的链接管理工具应该：

- 可轻松复制粘贴
- 有过滤功能，便于翻找

这和 TaskPaper 的功能不谋而合。在纯文本编辑器保存、复制无比轻松，而标签和 searchbar 刚好成为称职的本地书签搜索引擎。TaskPaper 里的链接默认高亮显示，还能直接点击在 Safari 中打开。无论我是想复制下来插入文中，还是要打开进一步阅读，在 TaskPaper 里都很简单。

【书签管理】

任务管理的 FTL 系统也可以运用到书签管理上。我把书签分为了科技、户外、平面设计、法学等几个大类，因为大多是精读过或引用过的文章，熟悉度比较高，配合简单的列表一下就能找到。偶尔也需要筛选出某一题材的相关文章，不过我们不需要那么多的标签，标题和链接中已经带有了大量的关键词，可以直接用 searchbar 过滤。

【过滤】

粘贴链接到 TaskPaper 之后的事情都不难，关键是怎么获得  `[标题](链接)`  的 Markdown 格式链接。这可以通过其他应用配合实现。我目前使用的剪贴板工具 Copied 就能直接把网页链接转为 Markdown 格式，可惜支持文本格式转换的应用都不提供免费的午餐。如果你没有非常强的文字处理需求，可以试试我这个 Automator Services 作为代替。它也可以实现网页链接转 Markdown 格式的效果。

【Automator】

```
function run(input) {
    Safari = Application('Safari');
	Safari.includeStandardAdditions = true;
	tab = Safari.windows[0].currentTab;
	title = tab.name();
    mdlink = '[' + title + ']' + '(' + input + ')';
    Safari.setTheClipboardTo(mdlink);
}
```

这个 Services 没有太大制作难度，只是用 JavaScript 获取标题，再和链接组合起来，所以我把流程图和代码直接贴上，大家复制好自制即可，它就会出现在右键菜单里。如果需要绑定快捷键，请移步键盘设置：

【快捷键】

我设置的快捷键是 `⌃control+⌥option+⌘command+L`，这样看似冗长的组合实则不容易与已有的快捷键组合冲突。其实 TaskPaper 自己也支持 JavaScript，而 Automator 的优点在于可以获得全局支持，直接调用快捷键，不用特意点选、运行 TaskPaper 脚本。

我们追求的正是效率。